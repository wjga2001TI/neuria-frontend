<app-loader [loading]="loading"></app-loader>
<div class="wrapper background">
  <div class="container">
    <div class="row">
      <div class="col-md-7">
      </div>
      <div class="col-md-4 my-auto mt-2">
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" id="login-form" class="glass">
          <div class="row">
            <div class="col-12 text-center">
              <img src="assets/images/logo.png" class="logo">
            </div>
              <div class="col-12 text-left mt-3">
                  <h4>Registro de Nuevo Usuario</h4>
                  <p>Bienvenido de nuevo. Introduce tus credenciales para acceder a tu cuenta.</p>
              </div>

              <div class="col-12">
                  <div class="float-group">
                    <label for="name">Nombre Completo</label>
                    <input inputTrim formControlName="name" type="text" id="name"
                    class="form-control" placeholder="Nombre Completo"
                    [ngClass]="{'error': name?.invalid && (name?.dirty || name?.touched)}">
                    <div *ngIf="name?.invalid && (name?.dirty || name?.touched)" class="error-message">
                      <span *ngIf="name?.errors?.['required']" class="errors">
                        El nombre es requerido.
                      </span>
                    </div>
                  </div>
              </div>

              <div class="col-12">
                  <div class="float-group">
                    <label for="email">Correo electrónico</label>
                    <input inputTrim formControlName="email" type="email" id="email"
                    class="form-control" placeholder="nombre@gmail.com"
                    [ngClass]="{'error': email?.invalid && (email?.dirty || email?.touched)}">
                    <div *ngIf="email?.invalid && (email?.dirty || email?.touched)" class="error-message">
                        <span *ngIf="email?.errors?.['required']" class="errors">
                          El correo electrónico es requerido.
                        </span>
                        <span *ngIf="email?.errors?.['email']" class="errors">
                          Por favor ingresa un correo electrónico válido.
                        </span>
                    </div>
                  </div>
              </div>

              <div class="col-12">
                <div class="float-group">
                  <label for="phone">Número de Teléfono</label>
                  <input inputTrim formControlName="phone" type="text" id="phone"
                  class="form-control" placeholder="+00 000 000 0000" (change)="validatePhone($event)"
                  [ngClass]="{'error': phone?.invalid && (phone?.dirty || phone?.touched) && !validPhone}">
                  <div *ngIf="phone?.invalid && (phone?.dirty || phone?.touched)" class="error-message">
                    <span *ngIf="phone?.errors?.['required']" class="errors">
                      El nombre es requerido.
                    </span>
                    <span *ngIf="!validPhone && !phone?.errors?.['required']" class="errors">
                      El Número de Teléfono no es correcto.
                    </span>
                  </div>
                </div>
              </div>

              <div class="col-12">
                <div class="float-group">
                  <label for="password">Contraseña</label>
                    <input formControlName="password" [type]="hidePass ? 'password' : 'text'" class="form-control" id="password" placeholder=""
                    [ngClass]="{'error': password?.invalid && (password?.dirty || password?.touched)}">
                    <span class="input-group-append">
                        <button class="input-group-text show-password" (click)="showPassword()">
                            <i *ngIf="hidePass" class="fa fa-eye"></i>
                            <i *ngIf="!hidePass" class="fa fa-eye-slash"></i>
                        </button>
                    </span>
                    <div *ngIf="password?.invalid && (password?.dirty || password?.touched)" class="error-message">
                      <span *ngIf="password?.errors?.['required']" class="errors">
                        La contraseña es requerida.
                      </span>
                      <span *ngIf="password?.errors?.['minlength']" class="errors">
                        La contraseña debe tener al menos 6 caracteres.
                      </span>
                      <span *ngIf="password?.errors?.['pattern']" class="errors">
                        La contraseña debe contener letras y números.
                      </span>
                    </div>
                </div>
              </div>

              <div class="col-12">
                <div class="float-group">
                  <label for="confirm_password">Verificar Contraseña</label>
                    <input formControlName="confirm_password" [type]="hidePass ? 'password' : 'text'" class="form-control" id="confirm_password" placeholder=""
                    [ngClass]="{'error': confirmPassword?.invalid && (confirmPassword?.dirty || confirmPassword?.touched)}">
                    <span class="input-group-append">
                        <button class="input-group-text show-password" (click)="showPassword()">
                            <i *ngIf="hidePass" class="fa fa-eye"></i>
                            <i *ngIf="!hidePass" class="fa fa-eye-slash"></i>
                        </button>
                    </span>
                    <span *ngIf="!validConfirmPassword" class="errors">
                      Las contraseñas no coinciden.
                    </span>
                    <div
                    *ngIf="confirmPassword?.invalid && (confirmPassword?.dirty || confirmPassword?.touched)" class="error-message">
                      <span *ngIf="confirmPassword?.errors?.['required']" class="errors">
                        Por favor confirma tu contraseña.
                      </span>
                    </div>
                </div>
              </div>

              <label class="custom-checkbox">
                <input type="checkbox">
                <span>Acepto los términos y condiciones. Términos y Condiciones</span>

              </label>

              <div class="col-12">
                <button type="submit" type="submit" class="btn btn-lg btn-block"
                [disabled]="isSubmit" (click)="onSubmit()">
                  Continuar
                </button>
                <div class="text-center register">
                    <span>¿Ya tiene una cuenta? <a href="/auth/login">Inicie Sesión Aquí</a></span>
                </div>
              </div>
          </div>
        </form>
      </div>
      <div class="col-md-1"></div>
    </div>
  </div>
</div>
